<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
</head>
<body>
    <button onclick="handleShuffle()"">Click</button>
    <button onclick="start()" id="show">Start</button>
</body>
<script>
    let flat = 52;
    let arr = [];
    for(let i=0; i < flat; i++ ){
        arr.push(i);
    }

    function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        // Generate a random index from 0 to i
        const j = Math.floor(Math.random() * (i + 1));

        // Swap elements at index i and j
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

let startBtn = document.getElementById("show");

let shuffledArray = [];
  function handleShuffle() {
            shuffledArray = shuffleArray(arr);
            // console.log(shuffleArray)
            startBtn.style.display = "block";
            return shuffleArray;
        }
startBtn.style.display = "none";
function start(){
    console.log("random array" + shuffledArray)
    let stack = shuffledArray;
    // let routine = Math.floor(stack.length / n);
    let routine = 2;
    let win = [];
    let play = {};
    let f = 5;
    let j = 0;
    let h = 0;
    for (let d = 0; d < f; d++) {
        play["player" + d] = []; 
    }
    console.log(play);
    console.log("routine" + routine);

    for(let i = 0; i < routine;i++){
        win[i] = [];  
        for(j = 0; j < f; j++){
            for(let h = 0; h < f; h++){
                if(j == h){
                    play["player" + h].push(stack[(f * i) + j]);
                    win[i].push( play["player" + h][ play["player" + h].length - 1])
                }
            }
        }
    }
    console.log(win)
            // if(j == 0){
            //    play.player0.push(stack[(n*i)+j])
            //     win[i].push( play.player0[ play.player0.length - 1])
            // } else if(j == 1){
            //    play.player1.push(stack[(n*i)+j])
            //      win[i].push(play.player1[play.player1.length - 1])
            // } else if(j == 2){
            //     play.player2.push(stack[(n*i)+j])
            //      win[i].push( play.player2[ play.player2.length - 1])
            // } else if(j == 3){
            //     play.player3.push(stack[(n*i)+j])
            //      win[i].push(play.player3[play.player3.length - 1])
            // } else if(j == 4){
            //     play.player4.push(stack[(n*i)+j])
            //      win[i].push(play.player4[play.player4.length - 1])
            // }
        // } 
        for (let d = 0; d < f; d++) {
          console.log("player Value"  + play["player" + d]); // Initialize each key with an empty array
       }
       playerWin = [];
       for(let d = 0; d < f; d++){
        playerWin.push("playerWin"+d);
       }
       console.log(playerWin);
      
      let sorted = [];
       for(let k=0; k < routine; k++){
        let swin = win[k].sort((a, b) => a - b);
        sorted.push(swin);
       }
       console.log(sorted);
       //    console.log(play["player" +0][0])
       console.log(play)
       for(let r = 0; r < f; r++){
        for(let sor = 0 ; sor < routine; sor ++){
                if(play["player" + r][sor] == sorted[sor][sorted[sor].length -1]){
                    console.log(playerWin[r]);
                }
            }
        }
    }
    // let player0Win = 0;
    // let player1Win = 0;
    // let player2Win = 0;
    // let player3Win = 0;
    // let player4Win = 0;
    // let len = win.length
    // //  console.log(len)
    //  for(let r =0; r < win.length; r++){
    //     console.log("to check win value" + win[r]);
    //  }
    // for(let i = 0; i < routine; i++){
    // let swin = win[i].sort((a, b) => a - b); 
    // let  maxValue = swin[swin.length - 1]
    // console.log("sorted value" + swin);
    // console.log(maxValue);
    // console.log(play["player"+ i])
    // // if(play["player"+ i][i] == maxValue){
    // //                     console.log("Hello");
    // //                 }
    //        for(let j = 0; j < f; j++){
    //         for(let h = 0; h < f; h++){
    //             // if(j == h){
    //                 if(play["player"+ h][j] == maxValue){
    //                     // console.log(play["player"+ h] + "Hello");
    //                     console.log("Key:", "player" + j + "WIN");
    //                 }
    //             // }
    //         }
    //     }
    //     // if(maxValue == player1[i]){
        //     player1Win = player1Win + 1
        //     console.log("player1Win")
        // } else if(maxValue == player2[i]){
        //     player2Win++
        //     console.log("player2Win")
        // } else if(maxValue == player3[i]){
        //     player3Win++
        //     console.log("player3Win")
        // } else if(maxValue == player4[i]){
        //     player4Win++
        //     console.log("player4Win")
        // } 
    // }
    // console.log(player1Win)
    // console.log(player2Win)
    // console.log(player3Win)
    // console.log(player4Win)
    // console.log(win);
// }
</script>
<scriptc src="/game.js"></scriptc>
</html>